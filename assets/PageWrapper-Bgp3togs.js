import{_,f as i,o as r,d as s,g as d,n as T,m as g,h as $,c as k,w as m,e as q,v as N,t as y,F,i as B,j as U,k as O,l as A,p as D,q as S,s as j,x as V,a as v,u as h,b as I,y as x}from"./index-YzUPWVYm.js";const J={class:"field__label"},L={class:"field__content"},W={__name:"FieldLayout",props:{isCheckbox:{type:Boolean,default:!1}},setup(a){const e=a;return(o,u)=>(r(),i("div",{class:T(["field",{field_checkbox:e.isCheckbox}])},[s("div",J,[d(o.$slots,"label",{},void 0)]),s("div",L,[d(o.$slots,"field",{},void 0)])],2))}},w=_(W,[["__scopeId","data-v-496d373a"]]),P=["for"],E=["type","id","placeholder","autocomplete"],G={__name:"Input",props:g({inputType:{type:String,required:!0},placeholder:{type:String,required:!1},name:{type:String,required:!0},label:{type:String,required:!0},autocomplete:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const e=a,o=$(a,"modelValue"),u=(l,n)=>e.autocomplete?e.autocomplete:l==="password"?"current-password":l==="email"?"email":n.toLowerCase().includes("name")?"name":"off";return(l,n)=>(r(),k(w,{isCheckbox:e.inputType==="checkbox"},{label:m(()=>[s("label",{for:e.name},y(e.label),9,P)]),field:m(()=>[q(s("input",{class:"input",type:e.inputType,"onUpdate:modelValue":n[0]||(n[0]=p=>o.value=p),id:e.name,placeholder:e.placeholder,autocomplete:u(e.inputType,e.name)},null,8,E),[[N,o.value]])]),_:1},8,["isCheckbox"]))}},z=_(G,[["__scopeId","data-v-f542ff36"]]),K=["for"],R=["id"],H=["value"],Q={__name:"Select",props:g({name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,required:!0},options:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const e=a,o=$(a,"modelValue");return(u,l)=>(r(),k(w,null,{label:m(()=>[s("label",{for:e.name},y(e.label),9,K)]),field:m(()=>[q(s("select",{class:"select","onUpdate:modelValue":l[0]||(l[0]=n=>o.value=n),id:e.name},[(r(!0),i(F,null,B(e.options,n=>(r(),i("option",{value:n.value,key:n.value},y(n.label),9,H))),128))],8,R),[[U,o.value]])]),_:1}))}},X=_(Q,[["__scopeId","data-v-6541b272"]]),Y=["for"],Z=["id","name","rows"],ee={__name:"TextArea",props:g({name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,required:!0},rows:{type:Number,required:!1},cols:{type:Number,required:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const e=a,o=$(a,"modelValue");return(u,l)=>(r(),k(w,null,{label:m(()=>[s("label",{for:e.name},y(e.label),9,Y)]),field:m(()=>[q(s("textarea",{class:"textarea","onUpdate:modelValue":l[0]||(l[0]=n=>o.value=n),id:e.name,name:e.name,rows:e.rows},null,8,Z),[[O,o.value]])]),_:1}))}},te=_(ee,[["__scopeId","data-v-e56bb313"]]);function ae(a){const e=A({}),o=()=>{e.value=structuredClone(S(a.value))};return o(),D(()=>a.value,(p,c)=>{JSON.stringify(S(p))!==JSON.stringify(S(c))&&o()},{deep:!0}),{initialState:e,resetToInitial:()=>{if(e.value&&Object.keys(e.value).length>0){const p=e.value;return Object.keys(p).forEach(c=>{const b=c;a.value[b]=p[b]}),!0}return!1},hasChanges:()=>JSON.stringify(S(a.value))!==JSON.stringify(e.value),updateInitialState:()=>{o()}}}const oe=["disabled"],le={__name:"Button",props:{type:{type:String,default:"info"},disabled:{type:Boolean,default:!1}},setup(a){const e=a,o=j(()=>({button_type_primary:e.type==="primary",button_type_info:e.type==="info",button_type_warning:e.type==="warning"}));return(u,l)=>(r(),i("button",{class:T(["button",o.value]),disabled:a.disabled},[d(u.$slots,"default",{},void 0)],10,oe))}},C=_(le,[["__scopeId","data-v-f2218547"]]),ne={class:"controls"},se={__name:"FormGenerator",props:g({formDefenition:{type:[Object,Array],required:!0},onSubmit:{type:Function,required:!0},onCancel:{type:Function,required:!0},submitButton:{type:String,default:"Сохранить"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const e=$(a,"modelValue"),{updateInitialState:o,resetToInitial:u}=ae(e),l=a,n=()=>{o(),l.onSubmit()},p=()=>{u(),l.onCancel()};return(c,b)=>(r(),i("form",{onSubmit:x(n,["prevent"])},[(r(!0),i(F,null,B(l.formDefenition,(t,M)=>(r(),i("div",{key:M},[t.type==="email"||t.type==="password"||t.type==="text"||t.type==="checkbox"?d(c.$slots,t.name,{key:0,field:t,model:e.value},()=>[v(h(z),{modelValue:e.value[t.name],"onUpdate:modelValue":f=>e.value[t.name]=f,inputType:t.type,name:t.name,label:t.label,placeholder:t.placeholder},null,8,["modelValue","onUpdate:modelValue","inputType","name","label","placeholder"])]):V("",!0),t.type==="select"?d(c.$slots,t.name,{key:1,field:t,model:e.value},()=>[v(h(X),{modelValue:e.value[t.name],"onUpdate:modelValue":f=>e.value[t.name]=f,options:t.options,placeholder:t.placeholder,label:t.label,name:t.name},null,8,["modelValue","onUpdate:modelValue","options","placeholder","label","name"])]):V("",!0),t.type==="textarea"?d(c.$slots,t.name,{key:2,field:t,model:e.value},()=>[v(h(te),{modelValue:e.value[t.name],"onUpdate:modelValue":f=>e.value[t.name]=f,placeholder:t.placeholder,name:t.name,rows:t.rows,cols:t.cols,label:t.label},null,8,["modelValue","onUpdate:modelValue","placeholder","name","rows","cols","label"])]):V("",!0)]))),128)),d(c.$slots,"controls",{},()=>[s("div",ne,[v(h(C),{type:"primary"},{default:m(()=>[I(y(l.submitButton),1)]),_:1}),v(h(C),{type:"info",onClick:x(p,["prevent"])},{default:m(()=>b[0]||(b[0]=[I("Отмена")])),_:1})])])],32))}},ye=_(se,[["__scopeId","data-v-9b95c3af"]]),re={class:"form"},ue={class:"form__title"},de={class:"form__content"},ie={__name:"FormWrapper",props:{title:{type:String,required:!0}},setup(a){const e=a;return(o,u)=>(r(),i("div",re,[s("h3",ue,y(e.title),1),s("div",de,[d(o.$slots,"default",{},void 0)])]))}},be=_(ie,[["__scopeId","data-v-4c1bccee"]]),pe={class:"page"},ce={class:"page__title"},me={__name:"PageWrapper",props:{title:{type:String,required:!0}},setup(a){return(e,o)=>(r(),i("div",pe,[s("div",ce,[s("h1",null,y(e.$props.title),1)]),d(e.$slots,"default",{},void 0)]))}},fe=_(me,[["__scopeId","data-v-d5adb985"]]);export{C as B,ye as F,fe as P,be as a};
